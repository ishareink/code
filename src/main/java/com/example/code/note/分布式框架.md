## 服务发现中心
> 注册中心例子如下

| 组件名           | CAP  | 服务健康检查 | 对外暴露接口 | cloud已集成 |
| ---------------- | ---- | ------------ | ------------ | ----------- |
| Eureka (java)    | AP   | 可配支持     | HTTP         | yes         |
| Consul (go)      | CP   | 支持         | HTTP/DNS     | yes         |
| Zookeeper (java) | CP   | 支持         | 客户端       | yes         |


Nacos:

1、每个服务启动会向服务发现中心上报自己的网络位置，中心记录一个服务注册表 包含所有服务的网络地址

2、服务发现客户端会定期从服务中心同步服务注册表 并缓存在客户端

3、当需要对某个服务请求，通过注册表定位服务网络地址，如果存在多个网络地址，就按照负载均衡算法选择一个，然后发送请求。

**各种服务发现中心的对比**

|                 | Nacos                      | Eureka      | Consul            | Zookeeper  |
| --------------- | -------------------------- | ----------- | ----------------- | ---------- |
| 一致性协议      | 支持AP、CP                 | AP          | CP                | CP         |
| 健康检查        | tcp/http/mysql/Client Beat | Client Beat | TCP/HTTP/gRPC/Cmd | Keep Alive |
| 负载均衡策略    | 权重/metadata/Seletor      | Ribbon      | Fabio             |            |
| 雪崩保护        | 有                         | 有          | 无                | 无         |
| 自动注销实例    | 支持                       | 支持        | 不支持            | 支持       |
| 访问协议        | HTTP/DNS                   | HTTP        | HTTP/DNS          | TCP        |
| 监听支持        | 支持                       | 支持        | 支持              | 支持       |
| 多数据中心      | 支持                       | 支持        | 支持              | 不支持     |
| 跨注册中心同步  | 支持                       | 不支持      | 支持              | 不支持     |
| SpringCloud集成 | 支持                       | 支持        | 支持              | 不支持     |
| Dubbo集成       | 支持                       | 不支持      | 不支持            | 支持       |
| K8s集成         | 支持                       | 不支持      | 支持              | 不支持     |

Nacos主要功能

1、服务发现与服务健康检查

更容易注册，并且可以通过DNS或HTTP接口发现其他服务

2、动态配置管理

Nacos消除了在更新配置时重新部署应用程序，这使配置的更改更加高效和灵活

3、动态DNS服务

Nacos提供基于DNS协议的服务发现能力，是为了支持其他语言的服务发现，支持将注册在Nacos上的服务以域名的方式暴露端点，让三方应用方便发现

4、服务和元数据管理

方便让你管理服务的描述、生命周期、服务的静态依赖分析、服务的健康状态、服务的流量管理、路由以及安全策略


